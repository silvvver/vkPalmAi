{"version":3,"sources":["../../../src/components/View/useLayoutEffectCall.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\n/**\n * Возвращает функцию которая вызывает callback после изменения DOM, но до того\n * как пользователь увидит изменения.\n */\nexport function useLayoutEffectCall() {\n  const [fns] = React.useState<Array<() => void>>(() => []);\n\n  useIsomorphicLayoutEffect(() => {\n    while (fns.length > 0) {\n      fns.pop()!();\n    }\n  });\n\n  const add = React.useCallback((fn: () => void) => fns.push(fn), [fns]);\n\n  return add;\n}\n"],"names":["React","useIsomorphicLayoutEffect","useLayoutEffectCall","fns","useState","length","pop","add","useCallback","fn","push"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,yBAAyB,QAAQ,yCAAsC;AAEhF;;;CAGC,GACD,OAAO,SAASC;IACd,MAAM,CAACC,IAAI,GAAGH,MAAMI,QAAQ,CAAoB,IAAM,EAAE;IAExDH,0BAA0B;QACxB,MAAOE,IAAIE,MAAM,GAAG,EAAG;YACrBF,IAAIG,GAAG;QACT;IACF;IAEA,MAAMC,MAAMP,MAAMQ,WAAW,CAAC,CAACC,KAAmBN,IAAIO,IAAI,CAACD,KAAK;QAACN;KAAI;IAErE,OAAOI;AACT"}