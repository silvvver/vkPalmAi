{"version":3,"sources":["../../../src/components/DropZone/DropZone.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { DropZoneGrid } from './components/DropZoneGrid';\nimport styles from './DropZone.module.css';\n\ninterface DropZonePropsChildrenProps {\n  /**\n   * Флаг активного состояния компонента.\n   */\n  active: boolean;\n}\n\nexport interface DropZoneProps extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'children'> {\n  /**\n   * Содержимое компонента. Можно прокинуть функцию для отрисовки содержимого.\n   */\n  children?: React.ReactNode | ((renderProps: DropZonePropsChildrenProps) => React.ReactNode);\n}\n\n/**\n * Компонент позволяет пользователям загружать файлы, перетаскивая файлы в\n * область на странице.\n *\n * @since 6.1.0\n * @see https://vkcom.github.io/VKUI/#/DropZone\n */\nexport const DropZone: React.FC<DropZoneProps> & {\n  Grid: typeof DropZoneGrid;\n} = ({ onDragOver, onDragLeave, onDrop, children, ...props }: DropZoneProps): React.ReactNode => {\n  const [active, setActive] = React.useState(false);\n\n  const onActive: React.DragEventHandler<HTMLDivElement> = (event) => {\n    if (event.isPropagationStopped()) {\n      return;\n    }\n\n    setActive(true);\n  };\n\n  const offActive: React.DragEventHandler<HTMLDivElement> = () => {\n    setActive(false);\n  };\n\n  return (\n    <RootComponent\n      baseClassName={classNames(styles.host, active && styles.active)}\n      onDragOver={callMultiple(onDragOver, onActive)}\n      onDragLeave={callMultiple(onDragLeave, offActive)}\n      onDrop={callMultiple(onDrop, offActive)}\n      {...props}\n    >\n      {typeof children === 'function' ? children({ active }) : children}\n    </RootComponent>\n  );\n};\n\nDropZone.Grid = DropZoneGrid;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(DropZone.Grid, 'DropZone.Grid');\n}\n"],"names":["React","classNames","callMultiple","defineComponentDisplayNames","RootComponent","DropZoneGrid","DropZone","onDragOver","onDragLeave","onDrop","children","props","active","setActive","useState","onActive","event","isPropagationStopped","offActive","baseClassName","Grid","process","env","NODE_ENV"],"mappings":"AAAA;;;;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,YAAY,QAAQ,4BAAyB;AACtD,SAASC,2BAA2B,QAAQ,iDAA8C;AAE1F,SAASC,aAAa,QAAQ,oCAAiC;AAC/D,SAASC,YAAY,QAAQ,+BAA4B;AAiBzD;;;;;;CAMC,GACD,OAAO,MAAMC,WAET;QAAC,EAAEC,UAAU,EAAEC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,EAA2B,WAAtBC;QAA9CJ;QAAYC;QAAaC;QAAQC;;IACtC,MAAM,CAACE,QAAQC,UAAU,GAAGb,MAAMc,QAAQ,CAAC;IAE3C,MAAMC,WAAmD,CAACC;QACxD,IAAIA,MAAMC,oBAAoB,IAAI;YAChC;QACF;QAEAJ,UAAU;IACZ;IAEA,MAAMK,YAAoD;QACxDL,UAAU;IACZ;IAEA,qBACE,KAACT;QACCe,eAAelB,iCAAwBW;QACvCL,YAAYL,aAAaK,YAAYQ;QACrCP,aAAaN,aAAaM,aAAaU;QACvCT,QAAQP,aAAaO,QAAQS;OACzBP;kBAEH,OAAOD,aAAa,aAAaA,SAAS;YAAEE;QAAO,KAAKF;;AAG/D,EAAE;AAEFJ,SAASc,IAAI,GAAGf;AAEhB,IAAIgB,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;IACzCpB,4BAA4BG,SAASc,IAAI,EAAE;AAC7C"}