{"version":3,"sources":["../../src/hooks/useSyncHTMLWithBaseVKUIClasses.ts"],"sourcesContent":["import type * as React from 'react';\nimport type { AppRootLayout, AppRootMode } from '../components/AppRoot/types';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nconst layoutClassNames = { card: 'vkui--layout-card', plain: 'vkui--layout-plain' };\n\nexport function useSyncHTMLWithBaseVKUIClasses({\n  appRootRef,\n  mode,\n  enable,\n  layout,\n}: {\n  appRootRef: React.RefObject<HTMLElement | null>;\n  mode: AppRootMode;\n  layout?: AppRootLayout;\n  enable: boolean;\n}) {\n  useIsomorphicLayoutEffect(() => {\n    if (!enable) {\n      return;\n    }\n\n    const htmlElement = appRootRef.current?.ownerDocument.documentElement;\n    const parentElement = appRootRef.current?.parentElement ?? null;\n\n    const htmlElementClasses = ['vkui'];\n    const parentElementClasses = ['vkui__root'];\n\n    if (mode === 'embedded') {\n      parentElementClasses.push('vkui__root--embedded');\n    }\n\n    if (mode === 'full') {\n      if (layout) {\n        htmlElementClasses.push(layoutClassNames[layout]);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      htmlElement?.classList.add(...htmlElementClasses);\n    }\n\n    /* eslint-disable-next-line no-restricted-properties */\n    parentElement?.classList.add(...parentElementClasses);\n\n    return () => {\n      if (mode === 'full') {\n        /* eslint-disable-next-line no-restricted-properties */\n        htmlElement?.classList.remove(...htmlElementClasses);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      parentElement?.classList.remove(...parentElementClasses);\n    };\n  }, [mode, enable, layout]);\n}\n"],"names":["useIsomorphicLayoutEffect","layoutClassNames","card","plain","useSyncHTMLWithBaseVKUIClasses","appRootRef","mode","enable","layout","htmlElement","current","ownerDocument","documentElement","parentElement","htmlElementClasses","parentElementClasses","push","classList","add","remove"],"mappings":"AAEA,SAASA,yBAAyB,QAAQ,sCAAmC;AAE7E,MAAMC,mBAAmB;IAAEC,MAAM;IAAqBC,OAAO;AAAqB;AAElF,OAAO,SAASC,+BAA+B,EAC7CC,UAAU,EACVC,IAAI,EACJC,MAAM,EACNC,MAAM,EAMP;IACCR,0BAA0B;YAKJK,qBACEA;QALtB,IAAI,CAACE,QAAQ;YACX;QACF;QAEA,MAAME,eAAcJ,sBAAAA,WAAWK,OAAO,cAAlBL,0CAAAA,oBAAoBM,aAAa,CAACC,eAAe;YAC/CP;QAAtB,MAAMQ,gBAAgBR,CAAAA,qCAAAA,uBAAAA,WAAWK,OAAO,cAAlBL,2CAAAA,qBAAoBQ,aAAa,cAAjCR,+CAAAA,oCAAqC;QAE3D,MAAMS,qBAAqB;YAAC;SAAO;QACnC,MAAMC,uBAAuB;YAAC;SAAa;QAE3C,IAAIT,SAAS,YAAY;YACvBS,qBAAqBC,IAAI,CAAC;QAC5B;QAEA,IAAIV,SAAS,QAAQ;YACnB,IAAIE,QAAQ;gBACVM,mBAAmBE,IAAI,CAACf,gBAAgB,CAACO,OAAO;YAClD;YACA,qDAAqD,GACrDC,wBAAAA,kCAAAA,YAAaQ,SAAS,CAACC,GAAG,IAAIJ;QAChC;QAEA,qDAAqD,GACrDD,0BAAAA,oCAAAA,cAAeI,SAAS,CAACC,GAAG,IAAIH;QAEhC,OAAO;YACL,IAAIT,SAAS,QAAQ;gBACnB,qDAAqD,GACrDG,wBAAAA,kCAAAA,YAAaQ,SAAS,CAACE,MAAM,IAAIL;YACnC;YACA,qDAAqD,GACrDD,0BAAAA,oCAAAA,cAAeI,SAAS,CAACE,MAAM,IAAIJ;QACrC;IACF,GAAG;QAACT;QAAMC;QAAQC;KAAO;AAC3B"}