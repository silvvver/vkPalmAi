{"version":3,"sources":["../../../../src/lib/floating/usePlacementChangeCallback.ts"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport type { OnPlacementChange, Placement, PlacementWithAuto } from './types/common';\n\nexport function usePlacementChangeCallback(\n  initialPlacement: PlacementWithAuto,\n  resolvedPlacement: Placement,\n  onPlacementChange: OnPlacementChange | undefined,\n): void {\n  const prevPlacementRef = React.useRef<Placement | undefined>(undefined);\n  React.useEffect(() => {\n    prevPlacementRef.current = resolvedPlacement;\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    if (!onPlacementChange) {\n      return;\n    }\n\n    const prevPlacement = prevPlacementRef.current;\n\n    const isInitialPlacementChanged =\n      prevPlacement === undefined && initialPlacement !== resolvedPlacement;\n    const isResolvedPlacementChanged =\n      prevPlacement !== undefined && prevPlacement !== resolvedPlacement;\n    if (isInitialPlacementChanged || isResolvedPlacementChanged) {\n      onPlacementChange(resolvedPlacement);\n    }\n  }, [initialPlacement, resolvedPlacement, onPlacementChange]);\n}\n"],"names":["React","useIsomorphicLayoutEffect","usePlacementChangeCallback","initialPlacement","resolvedPlacement","onPlacementChange","prevPlacementRef","useRef","undefined","useEffect","current","prevPlacement","isInitialPlacementChanged","isResolvedPlacementChanged"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,yBAAyB,QAAQ,kCAA+B;AAGzE,OAAO,SAASC,2BACdC,gBAAmC,EACnCC,iBAA4B,EAC5BC,iBAAgD;IAEhD,MAAMC,mBAAmBN,MAAMO,MAAM,CAAwBC;IAC7DR,MAAMS,SAAS,CAAC;QACdH,iBAAiBI,OAAO,GAAGN;IAC7B;IAEAH,0BAA0B;QACxB,IAAI,CAACI,mBAAmB;YACtB;QACF;QAEA,MAAMM,gBAAgBL,iBAAiBI,OAAO;QAE9C,MAAME,4BACJD,kBAAkBH,aAAaL,qBAAqBC;QACtD,MAAMS,6BACJF,kBAAkBH,aAAaG,kBAAkBP;QACnD,IAAIQ,6BAA6BC,4BAA4B;YAC3DR,kBAAkBD;QACpB;IACF,GAAG;QAACD;QAAkBC;QAAmBC;KAAkB;AAC7D"}