{"version":3,"sources":["../../../../../src/lib/sheet/controllers/CSSTransitionController.ts"],"sourcesContent":["export type CSSTransitionControllerUnit = 'px' | '%' | '';\n\nexport class CSSTransitionController<V extends number | string = number> {\n  public readonly el: HTMLElement;\n  public readonly property: string;\n\n  constructor(el: HTMLElement, property: string) {\n    this.el = el;\n    this.property = property;\n  }\n\n  set(to: V) {\n    this.el.style.setProperty(this.property, `${to}`);\n    return this;\n  }\n\n  unset() {\n    return this.cleanup();\n  }\n\n  enableTransition() {\n    this.el.style.removeProperty('transition');\n    return this;\n  }\n\n  disableTransition() {\n    this.el.style.setProperty('transition', 'none');\n    return this;\n  }\n\n  cleanup() {\n    this.el.removeEventListener('transitionend', this.handleTransitionEnd);\n    this.el.style.removeProperty('transition');\n    this.el.style.removeProperty(this.property);\n    return this;\n  }\n\n  cleanupOnTransitionEnd() {\n    this.el.addEventListener('transitionend', this.handleTransitionEnd, { once: true });\n    return this;\n  }\n\n  private readonly handleTransitionEnd = () => {\n    this.cleanup();\n    return this;\n  };\n}\n"],"names":["CSSTransitionController","el","property","constructor","set","to","style","setProperty","unset","cleanup","enableTransition","removeProperty","disableTransition","removeEventListener","handleTransitionEnd","cleanupOnTransitionEnd","addEventListener","once"],"mappings":"AAEA,OAAO,MAAMA;IACKC,GAAgB;IAChBC,SAAiB;IAEjCC,YAAYF,EAAe,EAAEC,QAAgB,CAAE;QAC7C,IAAI,CAACD,EAAE,GAAGA;QACV,IAAI,CAACC,QAAQ,GAAGA;IAClB;IAEAE,IAAIC,EAAK,EAAE;QACT,IAAI,CAACJ,EAAE,CAACK,KAAK,CAACC,WAAW,CAAC,IAAI,CAACL,QAAQ,EAAE,GAAGG,IAAI;QAChD,OAAO,IAAI;IACb;IAEAG,QAAQ;QACN,OAAO,IAAI,CAACC,OAAO;IACrB;IAEAC,mBAAmB;QACjB,IAAI,CAACT,EAAE,CAACK,KAAK,CAACK,cAAc,CAAC;QAC7B,OAAO,IAAI;IACb;IAEAC,oBAAoB;QAClB,IAAI,CAACX,EAAE,CAACK,KAAK,CAACC,WAAW,CAAC,cAAc;QACxC,OAAO,IAAI;IACb;IAEAE,UAAU;QACR,IAAI,CAACR,EAAE,CAACY,mBAAmB,CAAC,iBAAiB,IAAI,CAACC,mBAAmB;QACrE,IAAI,CAACb,EAAE,CAACK,KAAK,CAACK,cAAc,CAAC;QAC7B,IAAI,CAACV,EAAE,CAACK,KAAK,CAACK,cAAc,CAAC,IAAI,CAACT,QAAQ;QAC1C,OAAO,IAAI;IACb;IAEAa,yBAAyB;QACvB,IAAI,CAACd,EAAE,CAACe,gBAAgB,CAAC,iBAAiB,IAAI,CAACF,mBAAmB,EAAE;YAAEG,MAAM;QAAK;QACjF,OAAO,IAAI;IACb;IAEiBH,sBAAsB;QACrC,IAAI,CAACL,OAAO;QACZ,OAAO,IAAI;IACb,EAAE;AACJ"}