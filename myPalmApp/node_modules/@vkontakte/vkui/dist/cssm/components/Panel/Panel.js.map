{"version":3,"sources":["../../../../src/components/Panel/Panel.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { SizeTypeValues } from '../../lib/adaptivity';\nimport type { NavIdProps } from '../../lib/getNavId';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { AppRootContext } from '../AppRoot/AppRootContext';\nimport { NavPanelIdContext } from '../NavIdContext/NavIdContext';\nimport { OnboardingTooltipContainer } from '../OnboardingTooltip/OnboardingTooltipContainer';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Touch } from '../Touch/Touch';\nimport styles from './Panel.module.css';\n\nconst sizeXClassNames = {\n  none: styles.sizeXNone,\n  compact: styles.sizeXCompact,\n  regular: styles.sizeXRegular,\n};\n\nconst stylesMode = {\n  none: styles.modeNone,\n  plain: styles.modePlain,\n  card: styles.modeCard,\n};\n\nexport interface PanelProps extends HTMLAttributesWithRootRef<HTMLDivElement>, NavIdProps {\n  /**\n   * Центрирование содержимого.\n   */\n  centered?: boolean;\n  /**\n   * Тип оформления панели.\n   *\n   * Позволяет переопределить тип оформления панели,\n   * заданный через адаптивность или свойство layout у [AppRoot](https://vkcom.github.io/VKUI/#/AppRoot),\n   * глобально задающим тип оформления макета.\n   *\n   * Если установлен `card` - Panel имеет фон отличный от фона контента.\n   * Позволяет компоненту [Group](https://vkcom.github.io/VKUI/#/Group) со свойством mode='card' точечно выглядеть как карточка.\n   * Тип `plain` — соответствует фону по умолчанию.\n   */\n  mode?: 'plain' | 'card';\n  /**\n   * Отключает задний фон.\n   */\n  disableBackground?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Panel\n */\nexport const Panel = ({\n  centered = false,\n  children,\n  nav,\n  mode: modeProp,\n  disableBackground,\n  ...restProps\n}: PanelProps): React.ReactNode => {\n  const { sizeX = 'none' } = useAdaptivity();\n\n  const mode = usePanelMode(modeProp, sizeX);\n\n  return (\n    <NavPanelIdContext.Provider value={restProps.id || nav}>\n      <RootComponent\n        {...restProps}\n        baseClassName={classNames(\n          styles.host,\n          sizeXClassNames[sizeX],\n          centered && 'vkuiInternalPanel--centered',\n          disableBackground && styles.disableBackground,\n          stylesMode[mode],\n        )}\n      >\n        <Touch\n          Component={OnboardingTooltipContainer}\n          className={classNames(styles.in, 'vkuiInternalPanel__in')}\n        >\n          <div className={styles.inBefore} />\n          {centered ? <div className={styles.centered}>{children}</div> : children}\n          <div className={styles.inAfter} />\n        </Touch>\n      </RootComponent>\n    </NavPanelIdContext.Provider>\n  );\n};\n\nfunction usePanelMode(\n  modeProp: PanelProps['mode'],\n  sizeX: SizeTypeValues | 'none',\n): 'plain' | 'card' | 'none' {\n  const { layout } = React.useContext(AppRootContext);\n\n  if (modeProp) {\n    return modeProp;\n  }\n\n  if (layout) {\n    return layout;\n  }\n\n  if (sizeX !== 'none') {\n    return sizeX === 'regular' ? 'card' : 'plain';\n  }\n\n  return 'none';\n}\n"],"names":["React","classNames","useAdaptivity","AppRootContext","NavPanelIdContext","OnboardingTooltipContainer","RootComponent","Touch","styles","sizeXClassNames","none","sizeXNone","compact","sizeXCompact","regular","sizeXRegular","stylesMode","modeNone","plain","modePlain","card","modeCard","Panel","centered","children","nav","mode","modeProp","disableBackground","restProps","sizeX","usePanelMode","Provider","value","id","baseClassName","host","Component","className","in","div","inBefore","inAfter","layout","useContext"],"mappings":"AAAA;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,aAAa,QAAQ,+BAA4B;AAI1D,SAASC,cAAc,QAAQ,+BAA4B;AAC3D,SAASC,iBAAiB,QAAQ,kCAA+B;AACjE,SAASC,0BAA0B,QAAQ,qDAAkD;AAC7F,SAASC,aAAa,QAAQ,oCAAiC;AAC/D,SAASC,KAAK,QAAQ,oBAAiB;AACvC,OAAOC,YAAY,qBAAqB;AAExC,MAAMC,kBAAkB;IACtBC,MAAMF,OAAOG,SAAS;IACtBC,SAASJ,OAAOK,YAAY;IAC5BC,SAASN,OAAOO,YAAY;AAC9B;AAEA,MAAMC,aAAa;IACjBN,MAAMF,OAAOS,QAAQ;IACrBC,OAAOV,OAAOW,SAAS;IACvBC,MAAMZ,OAAOa,QAAQ;AACvB;AAyBA;;CAEC,GACD,OAAO,MAAMC,QAAQ,CAAC,EACpBC,WAAW,KAAK,EAChBC,QAAQ,EACRC,GAAG,EACHC,MAAMC,QAAQ,EACdC,iBAAiB,EACjB,GAAGC,WACQ;IACX,MAAM,EAAEC,QAAQ,MAAM,EAAE,GAAG5B;IAE3B,MAAMwB,OAAOK,aAAaJ,UAAUG;IAEpC,qBACE,KAAC1B,kBAAkB4B,QAAQ;QAACC,OAAOJ,UAAUK,EAAE,IAAIT;kBACjD,cAAA,KAACnB;YACE,GAAGuB,SAAS;YACbM,eAAelC,WACbO,OAAO4B,IAAI,EACX3B,eAAe,CAACqB,MAAM,EACtBP,YAAY,+BACZK,qBAAqBpB,OAAOoB,iBAAiB,EAC7CZ,UAAU,CAACU,KAAK;sBAGlB,cAAA,MAACnB;gBACC8B,WAAWhC;gBACXiC,WAAWrC,WAAWO,OAAO+B,EAAE,EAAE;;kCAEjC,KAACC;wBAAIF,WAAW9B,OAAOiC,QAAQ;;oBAC9BlB,yBAAW,KAACiB;wBAAIF,WAAW9B,OAAOe,QAAQ;kCAAGC;yBAAkBA;kCAChE,KAACgB;wBAAIF,WAAW9B,OAAOkC,OAAO;;;;;;AAKxC,EAAE;AAEF,SAASX,aACPJ,QAA4B,EAC5BG,KAA8B;IAE9B,MAAM,EAAEa,MAAM,EAAE,GAAG3C,MAAM4C,UAAU,CAACzC;IAEpC,IAAIwB,UAAU;QACZ,OAAOA;IACT;IAEA,IAAIgB,QAAQ;QACV,OAAOA;IACT;IAEA,IAAIb,UAAU,QAAQ;QACpB,OAAOA,UAAU,YAAY,SAAS;IACxC;IAEA,OAAO;AACT"}