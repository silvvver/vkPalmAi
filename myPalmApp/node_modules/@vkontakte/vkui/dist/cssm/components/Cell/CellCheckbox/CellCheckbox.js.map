{"version":3,"sources":["../../../../../src/components/Cell/CellCheckbox/CellCheckbox.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport {\n  Icon20CheckBoxOff,\n  Icon20CheckBoxOn,\n  Icon20CheckCircleOff,\n  Icon20CheckCircleOn,\n  Icon24CheckBoxOff,\n  Icon24CheckBoxOn,\n  Icon24CheckCircleOff,\n  Icon24CheckCircleOn,\n} from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../../hooks/usePlatform';\nimport type { HasRef, HasRootRef } from '../../../types';\nimport { AdaptiveIconRenderer } from '../../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport type { CellProps } from '../Cell';\nimport styles from './CellCheckbox.module.css';\n\nconst CheckBoxOn = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckBoxOn} IconRegular={Icon24CheckBoxOn} />\n);\n\nconst CheckBoxOff = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckBoxOff} IconRegular={Icon24CheckBoxOff} />\n);\n\nconst CheckCircleOn = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckCircleOn} IconRegular={Icon24CheckCircleOn} />\n);\n\nconst CheckCircleOff = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckCircleOff} IconRegular={Icon24CheckCircleOff} />\n);\n\nfunction useTypeIcon(type: NonNullable<CellCheckboxProps['type']>) {\n  const platform = usePlatform();\n\n  if (type !== 'auto') {\n    return type;\n  }\n\n  if (platform === 'ios' || platform === 'vkcom') {\n    return 'circle';\n  }\n\n  return 'square';\n}\n\nexport interface CellCheckboxProps\n  extends Pick<CellProps, 'defaultChecked' | 'checked'>,\n    React.InputHTMLAttributes<HTMLInputElement>,\n    HasRootRef<HTMLSpanElement>,\n    HasRef<HTMLInputElement> {\n  /**\n   * Вид чекбокса. Если auto, то зависит от платформы.\n   */\n  type?: 'auto' | 'circle' | 'square';\n}\n\nexport const CellCheckbox = ({\n  getRootRef,\n  getRef,\n  className,\n  style,\n  type = 'auto',\n  ...restProps\n}: CellCheckboxProps): React.ReactNode => {\n  const typeIcon = useTypeIcon(type);\n\n  const IconOff = typeIcon === 'circle' ? CheckCircleOff : CheckBoxOff;\n  const IconOn = typeIcon === 'circle' ? CheckCircleOn : CheckBoxOn;\n\n  return (\n    <span className={classNames(styles.host, className)} style={style} ref={getRootRef}>\n      <VisuallyHidden\n        {...restProps}\n        Component=\"input\"\n        type=\"checkbox\"\n        className={styles.input}\n        getRootRef={getRef}\n      />\n      <span className={classNames(styles.icon, styles.iconOff)} aria-hidden>\n        <IconOff />\n      </span>\n      <span className={classNames(styles.icon, styles.iconOn)} aria-hidden>\n        <IconOn />\n      </span>\n    </span>\n  );\n};\n"],"names":["React","Icon20CheckBoxOff","Icon20CheckBoxOn","Icon20CheckCircleOff","Icon20CheckCircleOn","Icon24CheckBoxOff","Icon24CheckBoxOn","Icon24CheckCircleOff","Icon24CheckCircleOn","classNames","usePlatform","AdaptiveIconRenderer","VisuallyHidden","styles","CheckBoxOn","IconCompact","IconRegular","CheckBoxOff","CheckCircleOn","CheckCircleOff","useTypeIcon","type","platform","CellCheckbox","getRootRef","getRef","className","style","restProps","typeIcon","IconOff","IconOn","span","host","ref","Component","input","icon","iconOff","aria-hidden","iconOn"],"mappings":"AAAA;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SACEC,iBAAiB,EACjBC,gBAAgB,EAChBC,oBAAoB,EACpBC,mBAAmB,EACnBC,iBAAiB,EACjBC,gBAAgB,EAChBC,oBAAoB,EACpBC,mBAAmB,QACd,mBAAmB;AAC1B,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,WAAW,QAAQ,gCAA6B;AAEzD,SAASC,oBAAoB,QAAQ,qDAAkD;AACvF,SAASC,cAAc,QAAQ,yCAAsC;AAErE,OAAOC,YAAY,4BAA4B;AAE/C,MAAMC,aAAa,kBACjB,KAACH;QAAqBI,aAAab;QAAkBc,aAAaV;;AAGpE,MAAMW,cAAc,kBAClB,KAACN;QAAqBI,aAAad;QAAmBe,aAAaX;;AAGrE,MAAMa,gBAAgB,kBACpB,KAACP;QAAqBI,aAAaX;QAAqBY,aAAaR;;AAGvE,MAAMW,iBAAiB,kBACrB,KAACR;QAAqBI,aAAaZ;QAAsBa,aAAaT;;AAGxE,SAASa,YAAYC,IAA4C;IAC/D,MAAMC,WAAWZ;IAEjB,IAAIW,SAAS,QAAQ;QACnB,OAAOA;IACT;IAEA,IAAIC,aAAa,SAASA,aAAa,SAAS;QAC9C,OAAO;IACT;IAEA,OAAO;AACT;AAaA,OAAO,MAAMC,eAAe,CAAC,EAC3BC,UAAU,EACVC,MAAM,EACNC,SAAS,EACTC,KAAK,EACLN,OAAO,MAAM,EACb,GAAGO,WACe;IAClB,MAAMC,WAAWT,YAAYC;IAE7B,MAAMS,UAAUD,aAAa,WAAWV,iBAAiBF;IACzD,MAAMc,SAASF,aAAa,WAAWX,gBAAgBJ;IAEvD,qBACE,MAACkB;QAAKN,WAAWjB,WAAWI,OAAOoB,IAAI,EAAEP;QAAYC,OAAOA;QAAOO,KAAKV;;0BACtE,KAACZ;gBACE,GAAGgB,SAAS;gBACbO,WAAU;gBACVd,MAAK;gBACLK,WAAWb,OAAOuB,KAAK;gBACvBZ,YAAYC;;0BAEd,KAACO;gBAAKN,WAAWjB,WAAWI,OAAOwB,IAAI,EAAExB,OAAOyB,OAAO;gBAAGC,aAAW;0BACnE,cAAA,KAACT;;0BAEH,KAACE;gBAAKN,WAAWjB,WAAWI,OAAOwB,IAAI,EAAExB,OAAO2B,MAAM;gBAAGD,aAAW;0BAClE,cAAA,KAACR;;;;AAIT,EAAE"}